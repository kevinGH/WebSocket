<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="Scripts/jquery-2.1.3.min.js"></script>
</head>
<body>
    <img id="headerCompanyImage" />
    <script>
        var ws = new WebSocket('ws://localhost:8080');

        ws.onopen = function () {
            // Web Socket is connected, send data using send()
            ws.send("Message to send");
            console.log("Message is sent...");
        };

        ws.onmessage = function (evt) {
            var received_msg = evt.data;
            console.log("Message is received...");
            //console.log(evt.data);
            drawImage(evt.data);
        };

        ws.onclose = function () {
            // websocket is closed.
            console.log("Connection is closed...");
        };

        function drawImage(data) {
            $("#headerCompanyImage").attr("src", "data:image/png;base64," + data);

            //var myImage = new Image();
            
            //myImage.src = "source/fps" + that.fps + "r" + that.resolutionWidth.toString() + that.resolutionHeight.toString() + "/" + that.playTime.getTime().toString() + ".png";

            //var d = new Date(that.playTime.getTime);
            //drawText(that.playTime.toLocaleString() + "(" + that.playTime.getTime() + ")");
            //myImage.onload = function () {
            //    drawImg(myImage);
            //    var d = new Date(this.time);
            //    drawText(d.toLocaleString() + "(" + d.getTime() + ")");
            //};
        }
    </script>
</body>
</html>
